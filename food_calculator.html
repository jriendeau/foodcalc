<html>
  <head>
    <script>
      function populateButtons(name, dc, effect, isSpice) {
        var i;
        for(i = 0;i < 4; i++){
          var buttonData = document.getElementById("button"+i);
          if (buttonData.dataset.ingredient == name){
            break;
          }
          if (buttonData.dataset.ingredient == 'Empty'){
            buttonData.dataset.ingredient = name;
            buttonData.dataset.dc = dc;
            buttonData.dataset.benefit = effect;
            buttonData.dataset.spice = isSpice;
            buttonData.value=name
            var dcButton = document.getElementById("button"+i+"dc");
            dcButton.value=dc;
            var benButton = document.getElementById("button"+i+"ben");
            benButton.value=effect;
            break;
          }
        }
      }

      function resetItem(buttonId){
        var buttonData = document.getElementById(buttonId);
        buttonData.value = "No Item"
        buttonData.dataset.ingredient = "Empty";
        buttonData.dataset.dc = "0";
        buttonData.dataset.benefit = "";
        buttonData.dataset.spice = "false";
        var dcButtonData = document.getElementById(buttonId+"dc");
        dcButtonData.value="";
        var benButtonData = document.getElementById(buttonId+"ben");
        benButtonData.value="";
      }

      function cookRecipe(){
        var recipeArray = [];
        var totalDC = 0;
        var foodArray = [];
        var spicesArray = [];
        var effectsArray = [];
        var i;
        for(i = 0;i < 4; i++){
          var buttonData = document.getElementById("button"+i);
          if (buttonData.dataset.ingredient == 'Empty'){
            continue;
          }
          recipeArray.push(buttonData.dataset.ingredient);
          effectsArray.push(buttonData.dataset.benefit);
          if (buttonData.dataset.spice == "true"){
            spicesArray.push(Number(buttonData.dataset.dc));
          } else {
            foodArray.push(Number(buttonData.dataset.dc));
          }
        }
        foodSumDC = 0;
        if (foodArray.length > 0){
          foodSumDC = foodArray.reduce((a, b) => {return a+b;}) * foodArray.length;
        }
        console.log("foodSumDC =  ", foodSumDC);
        spicesSumDC = 0;
        if (spicesArray.length > 0){
          spicesSumDC = spicesArray.reduce((a, b) => {return a+b;});
        }
        console.log("spicesSumDC = ", spicesSumDC);
        totalDC = foodSumDC + spicesSumDC;
        var recipeOutputField = document.getElementById("recipeFood");
        recipeOutputField.value = "No Food"
        if (recipeArray.length > 0){
          recipeOutputField.value = recipeArray.reduce((a,b) => {return a+" + "+b;});
        }
        var recipeDCOutputField = document.getElementById("recipeDC");
        recipeDCOutputField.value = totalDC;
        var recipeEffectsOutputField = document.getElementById("recipeEffects");
        recipeEffectsOutputField.value = "";
        if (effectsArray.length > 0) {
          recipeEffectsOutputField.value = effectsArray.reduce((a,b) => {return a+" + "+b;});
        }
      }
    </script>
  </head>
  <body>
    <form name="food_calculator">
      <fieldset>
        <legend>Cooking Items</legend>
        <table>
          <tr>
            <td>
              <input type="button" id="button0" value="No Item" data-ingredient="Empty" data-dc="0" data-benefit = "" data-spice="false" onclick="resetItem('button0')">
              </input>
            </td>
            <td>
              <input type="button" id="button1" value="No Item" data-ingredient="Empty" data-dc="0" data-benefit = "" data-spice="false" onclick="resetItem('button1')">
            </input>
            </td>
            <td>
              <input type="button" id="button2" value="No Item" data-ingredient="Empty" data-dc="0" data-benefit = "" data-spice="false" onclick="resetItem('button2')">
            </input>
            </td>
            <td>
              <input type="button" id="button3" value="No Item" data-ingredient="Empty" data-dc="0" data-benefit = "" data-spice="false" onclick="resetItem('button3')">
              </input>
            </td>
          </tr>
          <tr>
            <td><input type="Text" id="button0dc" readonly disabled/></td>
            <td><input type="Text" id="button1dc" readonly disabled/></td>
            <td><input type="Text" id="button2dc" readonly disabled/></td>
            <td><input type="Text" id="button3dc" readonly disabled/></td>
          </tr>
          <tr>
            <td><input type="Text" id="button0ben" readonly disabled/></td>
            <td><input type="Text" id="button1ben" readonly disabled/></td>
            <td><input type="Text" id="button2ben" readonly disabled/></td>
            <td><input type="Text" id="button3ben" readonly disabled/></td>
          </tr>
          <tr><td><p></p></td></tr>
          <tr><td><input type="button" value="COOK" onclick="cookRecipe()"></input></td></tr>
          <tr>
            <td>Recipe: <input type="text" id="recipeFood" readonly disabled /></td>
            <td>DC: <input type="text" id="recipeDC" readonly disabled /></td>
            <td>Effects: <input type="text" id="recipeEffects" readonly disabled /></td>
        </table>
      </fieldset>
    </form>
    <form>
      <fieldset>
        <legend>Meat</legend>
        <table>
          <tr>
            <td>
              <input type="button"
                name="Boar"
                value="Boar"
                data-dc="3"
                data-benefit="3 temp hp"
                onclick="populateButtons('Boar','3','3 temp hp','false')">
              </input>
            </td>
            <td>
              <input type="button"
                name="Beef"
                value="Beef"
                data-dc="2"
                data-benefit="5 hp"
                onclick="populateButtons('Beef','2','5 hp','false')">
              </input>
            </td>
            <td>
              <input type="button"
                name="Beef"
                value="Beef"
                data-dc="2"
                data-benefit="5 hp"
                onclick="populateButtons('Beef','2','5 hp','false')">
              </input>
            </td>
            <td>
              <input type="button"
                name="Beef"
                    value="Beef"
                    data-dc="2"
                    data-benefit="5 hp"
                    onclick="populateButtons('Beef','2','5 hp','false')">
                  </input>
                </td>
                <td>
                    <input type="button"
                      name="Beef"
                      value="Beef"
                      data-dc="2"
                      data-benefit="5 hp"
                      onclick="populateButtons('Beef','2','5 hp','false')">
                    </input>
                  </td>
                  <td>
                      <input type="button"
                        name="Beef"
                        value="Beef"
                        data-dc="2"
                        data-benefit="5 hp"
                        onclick="populateButtons('Beef','2','5 hp','false')">
                      </input>
                    </td>
                    <td>
                        <input type="button"
                          name="Beef"
                          value="Beef"
                          data-dc="2"
                          data-benefit="5 hp"
                          onclick="populateButtons('Beef','2','5 hp','false')">
                        </input>
                      </td>
                      <td>
                          <input type="button"
                            name="Beef"
                            value="Beef"
                            data-dc="2"
                            data-benefit="5 hp"
                            onclick="populateButtons('Beef','2','5 hp','false')">
                          </input>
                        </td>
                        <td>
                            <input type="button"
                              name="Beef"
                              value="Beef"
                              data-dc="2"
                              data-benefit="5 hp"
                              onclick="populateButtons('Beef','2','5 hp','false')">
                            </input>
                          </td>
                          <td>
                              <input type="button"
                                name="Beef"
                                value="Beef"
                                data-dc="2"
                                data-benefit="5 hp"
                                onclick="populateButtons('Beef','2','5 hp','false')">
                              </input>
                            </td>
                            <td>
                                <input type="button"
                                  name="Beef"
                                  value="Beef"
                                  data-dc="2"
                                  data-benefit="5 hp"
                                  onclick="populateButtons('Beef','2','5 hp','false')">
                                </input>
                              </td>
                              <td>
                                  <input type="button"
                                    name="Beef"
                                    value="Beef"
                                    data-dc="2"
                                    data-benefit="5 hp"
                                    onclick="populateButtons('Beef','2','5 hp','false')">
                                  </input>
                                </td>
                                <td>
                                    <input type="button"
                                      name="Beef"
                                      value="Beef"
                                      data-dc="2"
                                      data-benefit="5 hp"
                                      onclick="populateButtons('Beef','2','5 hp','false')">
                                    </input>
                                  </td>
                                  <td>
                                      <input type="button"
                                        name="Beef"
                                        value="Beef"
                                        data-dc="2"
                                        data-benefit="5 hp"
                                        onclick="populateButtons('Beef','2','5 hp','false')">
                                      </input>
                                    </td>
                                    <td>
                                        <input type="button"
                                          name="Beef"
                                          value="Beef"
                                          data-dc="2"
                                          data-benefit="5 hp"
                                          onclick="populateButtons('Beef','2','5 hp','false')">
                                        </input>
                                      </td>
                                      <td>
                                          <input type="button"
                                            name="Beef"
                                            value="Beef"
                                            data-dc="2"
                                            data-benefit="5 hp"
                                            onclick="populateButtons('Beef','2','5 hp','false')">
                                          </input>
                                        </td>
                                        <td>
                                            <input type="button"
                                              name="Beef"
                                              value="Beef"
                                              data-dc="2"
                                              data-benefit="5 hp"
                                              onclick="populateButtons('Beef','2','5 hp','false')">
                                            </input>
                                          </td>
                                          <td>
                                              <input type="button"
                                                name="Beef"
                                                value="Beef"
                                                data-dc="2"
                                                data-benefit="5 hp"
                                                onclick="populateButtons('Beef','2','5 hp','false')">
                                              </input>
                                            </td>
                                            <td>
                                                <input type="button"
                                                  name="Beef"
                                                  value="Beef"
                                                  data-dc="2"
                                                  data-benefit="5 hp"
                                                  onclick="populateButtons('Beef','2','5 hp','false')">
                                                </input>
                                              </td>
          </tr>
        </table>
      </fieldset>
    </form>
  </tr>
        <tr>
            <form>
                <fieldset>
                  <legend>Fish</legend>
                  <table>
                    <tr>
                      <td>
                        <input type="button"
                          name="Boar"
                          data-dc="3"
                          data-benefit="3 temp hp"
                          onclick="populateButtons('Boar','3','3 temp hp','false')">
                          Boar
                        </input>
                      </td>
                      <td>
                        <input type="button"
                          name="Beef"
                          data-dc="2"
                          data-benefit="5 hp"
                          onclick="populateButtons('Beef','2','5 hp','false')">
                          Beef
                        </input>
                      </td>
                    </tr>
                  </table>
                </fieldset>
              </form>
        </tr>
        <tr>
          <form>
            <fieldset>
              <legend>Vegetables</legend>
            </fieldset>
          </form>
        </tr>
        <tr>
          <form>
            <fieldset>
              <legend>Grains</legend>
            </fieldset>
          </form>
        </tr>
        <tr>
          <form>
            <fieldset>
              <legend>Fruit</legend>
            </fieldset>
          </form>
        </tr>
        <tr>
          <form>
            <fieldset>
              <legend>Spices</legend>
            </fieldset>
          </form>
        </tr>
          <td><input type="button" name="one" value="1" onclick="calculator.display.value += '1'"></td>
          <td><input type="button" name="two" value="2" onclick="calculator.display.value += '2'"></td>
          <td><input type="button" name="three" value="3" onclick="calculator.display.value += '3'"></td>
          <td><input type="button" class="operator" name="plus" value="+" onclick="calculator.display.value += '+'"></td>
        
        <tr>
          <td><input type="button" name="four" value="4" onclick="calculator.display.value += '4'"></td>
          <td><input type="button" name="five" value="5" onclick="calculator.display.value += '5'"></td>
          <td><input type="button" name="six" value="6" onclick="calculator.display.value += '6'"></td>
          <td><input type="button" class="operator" name="minus" value="-" onclick="calculator.display.value += '-'"></td>
        </tr>
        <tr>
          <td><input type="button" name="seven" value="7" onclick="calculator.display.value += '7'"></td>
          <td><input type="button" name="eight" value="8" onclick="calculator.display.value += '8'"></td>
          <td><input type="button" name="nine" value="9" onclick="calculator.display.value += '9'"></td>
          <td><input type="button" class="operator" name="times" value="x" onclick="calculator.display.value += '*'"></td>
        </tr>
        <tr>
          <td><input type="button" id="clear" name="clear" value="c" onclick="calculator.display.value = ''"></td>
          <td><input type="button" name="zero" value="0" onclick="calculator.display.value += '0'"></td>
          <td><input type="button" name="doit" value="=" onclick="calculator.display.value = eval(calculator.display.value)"></td>
          <td><input type="button" class="operator" name="div" value="/" onclick="calculator.display.value += '/'"></td>
        </tr>
      </table>
    </form>
  </body>
</html>